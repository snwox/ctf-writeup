// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

import {Script, console2} from "forge-std/Script.sol";
import {Setup} from "src/challenge/Setup.sol";

contract ExploitScript is Script {
    function run() public {
        vm.startBroadcast();
        Setup setup = Setup(vm.envAddress("SETUP"));
        address maze = setup.maze();
        console2.log("maze", maze);
        (bool success, bytes memory result) = maze.call(hex"DEADBEEF");

        (success, result) = maze.call(hex"61616177777777777761616161616161616161777761616161616177776161616177617777646464646464737364646464646464646473");
        (success, result) = maze.call(hex"DEADBEEF");

        console2.log("success", success);
        console2.log("result", abi.decode(result, (uint256)));
        vm.stopBroadcast();
    }
}